{% assign lang = request.locale.iso_code %}
{% assign translation = "translations_" | append:lang %}
<section id="cd_addresses_page" class="cd_main-section cd_main-section-2">
    <section class="cd_address-section-main ">
    <div class="cd_header" id="cd_address_heading_1">
          <div>
            <p id="cd_heading" class="cd_toggle_address">{{ shop.metafields.customer_dashboard[translation].value[lang][7].value }}</p>
          </div>
      </div>
         <div class="cd_address-main-section">
          <div class="cd_address-box">
              <div class="cd_address-box-logo" onclick="myFunction('cd_add-address')">
                  <div class="cd_address_box_logo_content">
                      <svg id="cd_add-icon-svg" width="55" height="55" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                              d="M15.497 8C14.2687 8 12.8332 8.33716 11.6592 9.21378C10.4851 10.0904 9.62682 11.539 9.62682 13.5411C9.62682 15.6594 11.0376 17.7242 12.3818 19.3077C13.7261 20.8935 15.0703 22.0026 15.0703 22.0026C15.3169 22.2072 15.6844 22.2072 15.9311 22.0026C15.9311 22.0026 17.2753 20.8935 18.6195 19.3077C19.9637 17.7242 21.3745 15.6594 21.3745 13.5411C21.3745 11.5367 20.5162 10.0904 19.3422 9.21378C18.1681 8.33716 16.7253 8 15.497 8ZM15.497 9.23238C16.4712 9.23238 17.6477 9.51373 18.5307 10.1764C19.4186 10.8368 20.0698 11.8529 20.0698 13.5411C20.0698 15.1129 18.8908 17.0615 17.6033 18.5357C16.5107 19.7867 16.0026 20.2261 15.5019 20.6982C15.0333 20.2424 14.4339 19.7402 13.398 18.5357C12.1204 17.0522 10.9316 15.1129 10.9316 13.5411C10.9316 11.8529 11.5827 10.8368 12.4682 10.1764C13.3561 9.51373 14.5252 9.23005 15.497 9.23005V9.23238ZM15.497 10.4741C13.7039 10.4741 12.2363 11.8622 12.2363 13.555C12.2363 15.2455 13.7039 16.629 15.497 16.629C17.2925 16.629 18.765 15.2455 18.765 13.555C18.7618 12.7388 18.4164 11.957 17.8042 11.3798C17.1921 10.8027 16.3627 10.4771 15.497 10.4741ZM15.497 11.7064C16.5871 11.7064 17.4603 12.5272 17.4603 13.555C17.4609 13.7978 17.4105 14.0383 17.312 14.2626C17.2134 14.487 17.0687 14.6906 16.8861 14.8619C16.7035 15.0331 16.4867 15.1686 16.2483 15.2604C16.0099 15.3521 15.7545 15.3984 15.497 15.3966C15.2401 15.3978 14.9855 15.351 14.7479 15.2589C14.5103 15.1668 14.2944 15.0312 14.1128 14.86C13.9311 14.6887 13.7873 14.4852 13.6896 14.2612C13.5919 14.0372 13.5422 13.7972 13.5435 13.555C13.5419 13.3124 13.5913 13.0719 13.6888 12.8474C13.7863 12.6229 13.93 12.4188 14.1116 12.2469C14.2932 12.075 14.5092 11.9388 14.7469 11.846C14.9847 11.7533 15.2396 11.7058 15.497 11.7064ZM12.2215 20.4517C12.2075 20.4535 12.1935 20.4558 12.1796 20.4587C10.7639 20.5958 9.69095 20.7958 8.96582 21.0934C8.60325 21.2423 8.27521 21.3864 8.0779 21.7887C7.97849 22.0094 7.97406 22.2579 8.06556 22.4816C8.15682 22.6932 8.30974 22.8351 8.46513 22.9467C9.08667 23.3885 9.97706 23.5629 11.1906 23.7326C12.404 23.9023 13.9012 24 15.497 24C17.0952 24 18.5899 23.9023 19.8034 23.7326C21.0193 23.5629 21.9122 23.3885 22.5362 22.9467C22.712 22.831 22.8503 22.6716 22.9358 22.4863C23.0263 22.2606 23.021 22.0108 22.921 21.7887C22.7237 21.3841 22.3981 21.2423 22.033 21.0911C21.3104 20.7958 20.2424 20.5958 18.8267 20.4587C17.9955 20.3935 17.7957 21.5399 18.691 21.6841C19.8231 21.7933 20.7727 21.9677 21.3202 22.1491C20.9404 22.2793 20.383 22.4072 19.611 22.5142C18.4814 22.6723 17.0385 22.7699 15.497 22.7699C13.9579 22.7699 12.515 22.6723 11.3854 22.5142C10.803 22.4452 10.229 22.3237 9.67122 22.1514C10.5327 21.915 11.4166 21.7585 12.3103 21.6841C13.1612 21.5631 13.0453 20.4587 12.2215 20.4517Z"
                              fill="#202020" />
                      </svg>
                      <div>
                          <p>{{ shop.metafields.customer_dashboard[translation].value[lang][8].value }}</p>
                      </div>
                      <div id="cd_add-address">
                          <svg id="cd_add-icon-svg" width="52" height="52" viewBox="0 0 52 52" fill="none"
                              xmlns="http://www.w3.org/2000/svg">
                              <path d="M51.3 29H29V51.5H22.5V29H0.300001V23H22.5V0.5H29V23H51.3V29Z" fill="#202020"
                                  fill-opacity="0.05" />
                          </svg>
                      </div>
                  </div>
              </div>
  
          </div>
          {%- for address in customer.addresses -%}
          <div class="cd_address-box">
              <div class="cd_address-box-logo">
                  <div class="cd_child-content">
                      <p><span>{{address.first_name}}</span><span> {{address.last_name}}</span></p>
                      <p>{{address.address1}}</p>
                      <p>{{address.address2}}</p>
                      <p>{{address.city}}</p>
                      <p>{{address.province_code}}</p>
                      <p>{{address.country_name}}</p>
                           <div id="cd_address-operation">
                     <div>
                      <svg onclick="editToggle('address_form_'+'{{address.id}}')" width="30" height="35" viewBox="0 0 35 35" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <circle cx="17.2881" cy="17.2881" r="17.2881" fill="white" />
                          <path d="M20.2391 11.7951L11.0659 20.9682L14.0243 23.9266L23.1975 14.7535L20.2391 11.7951Z"
                              fill="#202020" />
                          <path d="M9.76465 25.2118L12.9606 24.3265L10.65 22.0159L9.76465 25.2118Z" fill="#202020" />
                          <path
                              d="M23.9635 10.244C23.6559 9.93707 23.2392 9.76472 22.8047 9.76472C22.3702 9.76472 21.9535 9.93707 21.6459 10.244L20.9507 10.9392L24.0375 14.026L24.7328 13.3308C25.0396 13.0232 25.2119 12.6065 25.2119 12.172C25.2119 11.7375 25.0396 11.3208 24.7328 11.0132L23.9635 10.244Z"
                              fill="#202020" />
                      </svg>
                     </div>
                     <div>
                  <form class="cd_address-delete-form"
                  method="post"
                  action="/account/addresses/{{ address.id }}"
                  >
                  <input type="hidden" name="_method" value="delete">
                  <button type="submit" class="cd_delete-button">
                   <svg width="30" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="17.712" cy="17.2881" r="17.2881" fill="white" />
                          <path
                              d="M23.2944 15.2824L23.0221 23.3591C22.9989 24.0509 22.7015 24.7065 22.193 25.1869C21.6846 25.6673 21.0051 25.9346 20.2988 25.9322H15.1246C14.4188 25.9347 13.7397 25.6677 13.2313 25.1879C12.7229 24.708 12.4253 24.0531 12.4014 23.3618L12.129 15.2824C12.1231 15.1055 12.1891 14.9335 12.3126 14.8042C12.436 14.675 12.6068 14.5991 12.7874 14.5933C12.968 14.5874 13.1435 14.6521 13.2754 14.7731C13.4073 14.8941 13.4847 15.0614 13.4907 15.2384L13.763 23.3171C13.7766 23.662 13.926 23.9883 14.1799 24.2275C14.4338 24.4667 14.7724 24.6002 15.1246 24.6H20.2988C20.6515 24.6002 20.9905 24.4663 21.2445 24.2266C21.4984 23.9868 21.6476 23.6598 21.6604 23.3144L21.9328 15.2384C21.9387 15.0614 22.0162 14.8941 22.1481 14.7731C22.2799 14.6521 22.4555 14.5874 22.636 14.5933C22.8166 14.5991 22.9874 14.675 23.1109 14.8042C23.2343 14.9335 23.3003 15.1055 23.2944 15.2824ZM24.1951 12.5946C24.1951 12.7715 24.1234 12.9412 23.9957 13.0663C23.868 13.1914 23.6949 13.2617 23.5143 13.2617H11.9098C11.7293 13.2617 11.5561 13.1914 11.4284 13.0663C11.3007 12.9412 11.229 12.7715 11.229 12.5946C11.229 12.4177 11.3007 12.248 11.4284 12.1229C11.5561 11.9978 11.7293 11.9275 11.9098 11.9275H14.0203C14.2361 11.928 14.4443 11.8499 14.6045 11.7084C14.7647 11.5668 14.8654 11.3719 14.887 11.1616C14.9373 10.6683 15.1731 10.2109 15.5487 9.8787C15.9243 9.54646 16.4126 9.36313 16.9186 9.36442H18.5049C19.0108 9.36313 19.4992 9.54646 19.8747 9.8787C20.2503 10.2109 20.4862 10.6683 20.5364 11.1616C20.5581 11.3719 20.6588 11.5668 20.819 11.7084C20.9792 11.8499 21.1874 11.928 21.4031 11.9275H23.5136C23.6942 11.9275 23.8673 11.9978 23.995 12.1229C24.1227 12.248 24.1944 12.4177 24.1944 12.5946H24.1951ZM16.0689 11.9275H19.3559C19.2664 11.7272 19.2079 11.5149 19.1823 11.2977C19.1654 11.1333 19.0868 10.9808 18.9618 10.8699C18.8368 10.759 18.6742 10.6975 18.5055 10.6973H16.9192C16.7506 10.6975 16.588 10.759 16.463 10.8699C16.3379 10.9808 16.2594 11.1333 16.2425 11.2977C16.2167 11.5149 16.1579 11.7272 16.0682 11.9275H16.0689ZM16.7545 22.0349V16.3544C16.7545 16.1775 16.6828 16.0078 16.5551 15.8827C16.4274 15.7576 16.2542 15.6873 16.0737 15.6873C15.8931 15.6873 15.7199 15.7576 15.5923 15.8827C15.4646 16.0078 15.3929 16.1775 15.3929 16.3544V22.0376C15.3929 22.2145 15.4646 22.3842 15.5923 22.5093C15.7199 22.6344 15.8931 22.7047 16.0737 22.7047C16.2542 22.7047 16.4274 22.6344 16.5551 22.5093C16.6828 22.3842 16.7545 22.2145 16.7545 22.0376V22.0349ZM20.0319 22.0349V16.3544C20.0319 16.1775 19.9602 16.0078 19.8325 15.8827C19.7048 15.7576 19.5317 15.6873 19.3511 15.6873C19.1706 15.6873 18.9974 15.7576 18.8697 15.8827C18.742 16.0078 18.6703 16.1775 18.6703 16.3544V22.0376C18.6703 22.2145 18.742 22.3842 18.8697 22.5093C18.9974 22.6344 19.1706 22.7047 19.3511 22.7047C19.5317 22.7047 19.7048 22.6344 19.8325 22.5093C19.9602 22.3842 20.0319 22.2145 20.0319 22.0376V22.0349Z"
                              fill="#202020" />
                      </svg>
                  </button>
                  </form>
                     </div>
                     {% if address.id == customer.default_address.id  %} 
                     <input class="cd_default-btn" style="font-size:10px" type="button" value={{ shop.metafields.customer_dashboard[translation].value[lang][10].value }}> {% else %} 
                       <div>
                        {% form 'customer_address', address %}
                         <input type="hidden"  name="address[default]" value="on">
                        <input class="cd_default-btn-2" type="submit" value={{ shop.metafields.customer_dashboard[translation].value[lang][11].value }}>
                        {% endform %}
                       </div>
                     {% endif %}                   
                  </div>
                  </div>
              </div>
          </div>
          {% endfor %}
          </div>
    </section>
    <section class="cd_address-section">
   
          {% for address in customer.addresses %}
          {% form 'customer_address', address, class:'cd_address_edit cd_hide' %}
              <div class="cd_header cd_address_heading_2">
              <div class="cd_header2">
              <p id="cd_heading" class="cd_toggle_address">Edit Addresses</p>
              </div>
              </div>
          <div class="cd_container form_{{ form.id }}">
              <div class="cd_flex-row">
                  <div class="cd_row">
                      <div class="cd_col-25">
                          <label for="fname">First Name</label>
                      </div>
                      <div class="cd_col-75">
                          <input type="text" id="fname" name="address[first_name]" value="{{ form.first_name }}">
                      </div>
                  </div>
                  <div class="cd_row">
                      <div class="cd_col-25">
                          <label for="lname">Last Name</label>
                      </div>
                      <div class="cd_col-75">
                          <input type="text" id="lname" name="address[last_name]" value="{{ form.last_name }}">
                      </div>
                  </div>
              </div>
              <div class="cd_row">
                  <div class="cd_col-25">
                      <label for="company">Company</label>
                  </div>
                  <div class="cd_col-75">
                      <input type="text" id="company" name="address[company]" value="{{ form.company }}">
                  </div>
              </div>
              <div class="cd_row">
                  <div class="cd_col-25">
                      <label for="address">Address</label> 
                  </div>
                  <div class="cd_col-75">
                      <input type="text" id="address" name="address[address1]" value="{{ form.address1 }}">
                  </div>
              </div>
              <div class="cd_row">
                  <div class="cd_col-25">
                      <label for="address2">Apartment, suite, etc. :-</label>
                  </div>
                  <div class="cd_col-75">
                      <input type="text" id="address2" name="address[address2]" value="{{ form.address2 }}">
                  </div>
              </div>
  
              <div class="cd_flex-row">
                  <div class="cd_row">
                      <div class="cd_col-25">
                          <label for="city">City</label>
                      </div>
                      <div class="cd_col-75">
                          <input type="text" id="city" name="address[city]" value="{{ form.city }}">
                      </div>
                  </div>
                  <div class="cd_row">
                      <div class="cd_col-25">
                          <label for="country">Country/Region:-</label>
                      </div>
                      <div class="cd_col-75">
                            <select
                            id="AddressCountry_{{ form.id }}"
                            name="address[country]"
                            data-address-country-select
                            data-default="{{ form.country }}"
                            data-form-id="{{ form.id }}"
                            autocomplete="country"
                            >
                            {{ all_country_option_tags }}
                            </select>    
                      </div>
                  </div>
              </div>
  
              <div class="cd_row">
                  <div class="cd_col-25">
                      <label for="province">Province :-</label>
                  </div>
                  <div class="cd_col-75">
                      <input type="text" id="province" name="address[province]" value="{{ form.province }}">
                  </div>
              </div>
              
  
              <div class="cd_row">
                  <div class="cd_col-25">
                      <label for="postal">Postal/Zip Code :-</label>
                  </div>
                  <div class="cd_col-75">
                      <input type="text" id="postal" name="address[zip]" value="{{ form.zip }}">
                  </div>
              </div>
  
              <div class="cd_row">
                  <div class="cd_col-25">
                      <label for="phone">Phone :-</label>
                  </div>
                  <div class="cd_col-75">
                      <input type="text" id="phone" name="address[phone]" value="{{ form.phone }}">
                  </div>
              </div>
              <div>
              <input type="checkbox" id="address_default_address_{{ form.id }}" name="address[default]" {% if address.id == customer.default_address.id %}checked="checked"{% endif %}>
              <label for="address_default_address_{{ form.id }}">
              {{ shop.metafields.customer_dashboard[translation].value[lang][12].value }}
              </label>
              </div>
              <div class="cd_row" style="margin-top:15px;">
                  <button type="submit">{{shop.metafields.customer_dashboard[translation].value[lang][40].value}}</button>
                  <input onclick="backFunction()" type="button" id="cd_submit_loader" value="Cancel"/>
              </div>
          </div>
          {% endform %}
          {% endfor %}
    </section>
  </section>
  